@using Microsoft.AspNetCore.Mvc.TagHelpers
@model NHA.Website.Software.Views.ViewModels.ForumVMs.ForumTopicDetailsView
@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<head>
    <link rel="stylesheet" href="~/css/ForumStyles.css">
    <script src="~/Scripts/ForumTopicDetails.js" type="text/javascript"></script>
</head>

<h1>@Model.topic.Title</h1>

<div>
    <a asp-controller="ForumPosts" asp-area="" asp-action="Create" asp-route-id="@Model.topic.Id" class=" btn-primary btn-dark btn-link">Create Post</a>
</div>

<hr />

<div>
    <table id="ForumPostTable" class="tableCustom">
    </table>
</div>

@section Scripts
{
    <script type="text/javascript">
        $(document).ready(function() {
            var prePost = '@Html.Raw(Json.Serialize(@Model.Posts))';
            var post = JSON.parse(prePost);

            InitializeAllTopicPosts(post);

            $("#ForumPostTable").on("click", ".modern-thread-link", function () {
                var button = $(this);
                window.location.href = "/ForumPosts/Details/" + button.attr("post-id");
            });
        });
    </script>

}




